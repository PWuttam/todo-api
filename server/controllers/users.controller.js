// server/controllers/users.controller.js

// ============================================
// ğŸ”¹ å½¹å‰²ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼é–¢é€£ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†
// ============================================

// ============================================
// ğŸ”¸ GET /me - èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’è¿”ã™
// ============================================
export const getMe = async (req, res) => {
  // èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã«ã‚ˆã£ã¦ req.user ã«æƒ…å ±ãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹å‰æ
  if (!req.user) {
    return res.status(401).json({ error: 'Unauthorized' });
  }

  // Issue #26 ã§æŒ‡å®šã•ã‚ŒãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿ã‚’è¿”ã™
  res.json({
    id: req.user.id,
    name: req.user.name,
    email: req.user.email,
  });
};
